{"remainingRequest":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/babel-loader/lib/index.js!/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/store/modules/auth.js","dependencies":[{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/store/modules/auth.js","mtime":1606136948863},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Cgp2YXIgX3RoaXMgPSB0aGlzOwoKLyplc2xpbnQtZGlzYWJsZSovCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vc3JjL3JvdXRlcic7CnZhciBzdGF0ZSA9IHsKICAvLyBzaW5nbGUgc291cmNlIG9mIGRhdGEKICB1c2VyOiB7fSwKICBqd3Q6ICcnCn07CnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBsb2dpbkRldGFpbHMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHZhciB1c2VybmFtZSA9IGxvZ2luRGV0YWlsc1sndXNlcm5hbWUnXTsKICAgIHZhciBwYXNzd29yZCA9IGxvZ2luRGV0YWlsc1sncGFzc3dvcmQnXTsKICAgIHZhciBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMS8nICsgJ2xvZ2luJzsKICAgIGF4aW9zLnBvc3QocGF0aCwgewogICAgICAndXNlcm5hbWUnOiB1c2VybmFtZSwKICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb21taXQoJ2F1dGhVc2VyJywgewogICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgICB0b2tlbjogcmVzLmRhdGEudG9rZW4KICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCdzdWNjZXNmdWxseSBsb2dnZWQgaW4uLi4nKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2p3dCcsIHJlcy5kYXRhLnRva2VuKTsKCiAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgIH0pOwogIH0sCiAgYXV0b0xvZ2luOiBmdW5jdGlvbiBhdXRvTG9naW4oX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgIHZhciB1c2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpOwoKICAgIGlmICghdG9rZW4gfHwgIXVzZXJuYW1lKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb21taXQoJ2F1dGhVc2VyJywgewogICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgIHRva2VuOiB0b2tlbgogICAgfSk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIGNvbW1pdCgnY2xlYXJBdXRoRGF0YScpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJuYW1lJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgIHJvdXRlci5yZXBsYWNlKCdsb2dpbicpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBhdXRoVXNlcjogZnVuY3Rpb24gYXV0aFVzZXIoc3RhdGUsIHVzZXJEYXRhKSB7CiAgICBzdGF0ZS51c2VybmFtZSA9IHVzZXJEYXRhLnVzZXJuYW1lOwogICAgc3RhdGUudG9rZW4gPSB1c2VyRGF0YS50b2tlbjsKICB9LAogIGNsZWFyQXV0aERhdGE6IGZ1bmN0aW9uIGNsZWFyQXV0aERhdGEoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXJuYW1lID0gbnVsbDsKICAgIHN0YXRlLnRva2VuID0gbnVsbDsKICB9Cn07CnZhciBnZXR0ZXJzID0gewogIC8vIHJldXNhYmxlIGRhdGEgYWNjZXNzb3JzCiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiBpc1ZhbGlkSnd0KHN0YXRlLmp3dC50b2tlbik7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/store/modules/auth.js"],"names":["axios","router","state","user","jwt","actions","login","loginDetails","commit","username","password","path","post","then","res","token","data","console","log","localStorage","setItem","$router","push","catch","error","autoLogin","getItem","logout","removeItem","replace","mutations","authUser","userData","clearAuthData","getters","isAuthenticated","isValidJwt","namespaced"],"mappings":"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","sourcesContent":["/*eslint-disable*/\n\nimport axios from 'axios';\nimport router from '../src/router'\n\nconst state = {\n    // single source of data\n    user: {},\n    jwt: ''\n};\n\nconst actions = {\n    login: ({commit}, loginDetails) => {\n        var username = loginDetails['username']\n        var password = loginDetails['password'] \n        \n        const path = 'http://127.0.0.1:5001/' + 'login';\n\n        axios.post(path, {'username':username, 'password':password})\n            .then(res => {\n\t\t\t  commit('authUser', { username: username, token: res.data.token });\t\n              console.log('succesfully logged in...');\n\n              localStorage.setItem('jwt', res.data.token);\n              this.$router.push('/home'); \n            })\n               .catch((error) => {\n                  console.error(error);\n            });  \n\t},\n\t\n\tautoLogin({commit}) {\n\t\tlet token = localStorage.getItem('token');\n\t\tlet username = localStorage.getItem('username');\n\n\t\tif (!token || !username) {\n\t\t\treturn;\n\t\t}\n\n\t\tcommit('authUser', { username: username, token: token });\n\t},\n\n\tlogout: ({commit}) => {\n\t\tcommit('clearAuthData');\n\t\tlocalStorage.removeItem('username');\n\t\tlocalStorage.removeItem('token');\n\t\trouter.replace('login');\n\t},\n};\n\nconst mutations = {\n\tauthUser(state, userData) {\n\t\tstate.username = userData.username;\n\t\tstate.token = userData.token;\n\t},\n\tclearAuthData(state) {\n\t\tstate.username = null;\n\t\tstate.token = null;\n\t},\n};\n\nconst getters = {\n    // reusable data accessors\n    isAuthenticated (state) {\n      return isValidJwt(state.jwt.token)\n    }\n};\n\nexport default {\n\tnamespaced: true,\n\tstate,\n\tmutations,\n\tgetters,\n\tactions,\n}\n\n"]}]}