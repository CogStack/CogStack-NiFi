{"remainingRequest":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/src/pages/ModelViewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/src/pages/ModelViewer.vue","mtime":1635966419000},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kawsarnoor/Desktop/cogstack/cogstackhub/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qZXNsaW50LWRpc2FibGUqLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01vZGVsVmlld2VyJywKCiAgY29tcG9uZW50czogewogICAgSGVhZGVyLAogIH0sCgoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICBtb2RlbGNhcmQ6IHt9LAogICAgICAgIGN1cnJlbnRUYWI6ICdtb2RlbGluZm8nLAogICAgICAgIGRhdGFzZWFyY2h0ZXh0OiAiIiwKICAgICAgICB0ZXh0dG9zZW5kdG9tb2RlbDogIiIsCiAgICAgICAgYW5ub3RhdGlvbmZyb21vZGVsOiAiIiwKICAgICAgICBlbGFzdGljaW5kaWNlczogW10sCiAgICAgICAgbW9kZWxydW5jb21wbGV0ZWQ6IGZhbHNlLAogICAgICAgIG1vZGVscHJvY2Vzc2luZzogZmFsc2UsCiAgICAgICAgcm9vdF9hcGk6IHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLCAgICAgICAgCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKCiAgICAgIGZldGNobW9kZWxjYXJkKCkgewogICAgICAgIGxldCBwYXRoID0gJ2h0dHA6Ly8nICsgdGhpcy5yb290X2FwaSAgKyAnOjUwMDEvZmV0Y2htb2RlbGNhcmQnOwogICAgICAgIGF4aW9zLnBvc3QocGF0aCwgeydtb2RlbGlkJzogdGhpcy5tb2RlbGlkLCAnaW5kZXgnOiB0aGlzLmluZGV4fSwge2hlYWRlcnM6IHsnQXV0aG9yaXphdGlvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKX19KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5tb2RlbGNhcmQgPSByZXMuZGF0YS5tb2RlbGNhcmQKICAgICAgICAgICAgY29uc29sZS5sb2coJ21vZGVsIGZldGNoIHJlc3VsdDogJyx0aGlzLm1vZGVsbmFtZSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICBnb3RvbW9kZWx0YWIoKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSAnbW9kZWxpbmZvJzsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1c2Vtb2RlbHRhYiIpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZGVsdGFiIikuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7CiAgICAgIH0sCgogICAgICBnb3RvdXNlbW9kZWx0YWIoKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSAnbW9kZWx1c2UnOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vZGVsdGFiIikuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXNlbW9kZWx0YWIiKS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTsKICAgICAgfSwKCiAgICAgIGdvdG9kYXRhc2V0KCkgewogICAgICAgICAgdmFyIHNlbGVjdGVkZGF0YXNldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxlY3RlZGRhdGFzZXQiKS52YWx1ZTsKCiAgICAgICAgICByb3V0ZXIucHVzaCh7IG5hbWU6ICdEYXRhU2VhcmNoJywgcGFyYW1zOiB7IGluZGV4OiBzZWxlY3RlZGRhdGFzZXQgfX0pOwogICAgICB9LAoKICAgICAgc2VhcmNoaW5kaWNlcygpIHsKICAgICAgICBsZXQgcGF0aCA9ICdodHRwOi8vJyArIHRoaXMucm9vdF9hcGkgICsgJzo1MDAxL2dldGVsYXN0aWNpbmRpY2VzJzsKCiAgICAgICAgYXhpb3MucG9zdChwYXRoLCB7J3NlYXJjaHN0cmluZyc6IHRoaXMuZGF0YXNlYXJjaHRleHR9LCB7aGVhZGVyczogeydBdXRob3JpemF0aW9uJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpfX0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICAgICAgdGhpcy5lbGFzdGljaW5kaWNlcyA9IHJlcy5kYXRhLmluZGljZXMKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0sCgogICAgICBhcHBseW1vZGVsdG9kYXRhc2V0KCkgewogICAgICAgIHZhciBzZWxlY3RlZGRhdGFzZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZWN0ZWRkYXRhc2V0IikudmFsdWU7CiAgICAgICAgdGhpcy5tb2RlbHByb2Nlc3NpbmcgPSB0cnVlOwogICAgICAgIGxldCBwYXRoID0gJ2h0dHA6Ly8nICsgdGhpcy5yb290X2FwaSAgKyAnOjUwMDEvYW5ub3RhdGVub3Rlc3dpdGhtb2RlbCc7CgogICAgICAgIGF4aW9zLnBvc3QocGF0aCwgeydzZWxlY3RlZGRhdGFzZXQnOiBzZWxlY3RlZGRhdGFzZXQsICdtb2RlbGlkJzogdGhpcy5tb2RlbGlkfSwge2hlYWRlcnM6IHsnQXV0aG9yaXphdGlvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKX19KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZpbmlzaGVkJykKICAgICAgICAgICAgICAgIHRoaXMubW9kZWxwcm9jZXNzaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLm1vZGVscnVuY29tcGxldGVkID0gdHJ1ZQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSwKCiAgICAgIGhpZGVzdWNjZXNzbWVzc2dhZ2UoKSB7CiAgICAgICAgICAgIHRoaXMubW9kZWxydW5jb21wbGV0ZWQgPSBmYWxzZQogICAgICB9LAoKICAgICAgdHJ5bW9kZWwoKSB7CiAgICAgICAgbGV0IHBhdGggPSAnaHR0cDovLycgKyB0aGlzLnJvb3RfYXBpICArICc6NTAwMS9hbm5vdGF0ZXNpbmdsZW5vdGV3aXRobW9kZWwnOwogICAgICAgIGF4aW9zLnBvc3QocGF0aCwgeydtb2RlbGlkJzogdGhpcy5tb2RlbGlkLCAndGV4dCc6IHRoaXMudGV4dHRvc2VuZHRvbW9kZWx9LCB7aGVhZGVyczogeydBdXRob3JpemF0aW9uJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpfX0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHJlcy5kYXRhLnJlc3VsdHMKICAgICAgICAgICAgY29uc29sZS5sb2coJ21vZGVsIGZldGNoIHJlc3VsdDogJywgcmVzdWx0cykKICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9uZnJvbW9kZWwgPSByZXN1bHRzCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOyAgICAgICAgICAKICAgICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5tb2RlbGlkID0gdGhpcy4kcm91dGUucGFyYW1zLm1vZGVsaWQ7CiAgICB0aGlzLm1vZGVsb25saW5lID0gdGhpcy4kcm91dGUucGFyYW1zLm1vZGVsb25saW5lOwogICAgdGhpcy5mZXRjaG1vZGVsY2FyZCgpOwogICAgdGhpcy5zZWFyY2hpbmRpY2VzKCk7CiAgfSwKCn07Cg=="},{"version":3,"sources":["ModelViewer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"ModelViewer.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n<!-- eslint-disable  -->\n  <div>\n    <Header/>\n    <div class=\"container\">\n        <div class=\"section\">\n            <p class=\"title is-2\">{{ modelcard['model_name']}} \n                <span v-if=\"modelonline\" class=\"tag is-success\">online</span> \n                <span v-else=\"modelonline\" class=\"tag\">offline</span> \n            </p>\n        </div>\n\n        <div class=\"tabs is-centered\">\n        <ul>\n            <li id='modeltab' class=\"is-active\"><a @click=\"gotomodeltab()\">Model Info</a></li>\n            <li v-if=\"modelonline\" id='usemodeltab'><a @click=\"gotousemodeltab()\">Use Model</a></li>\n        </ul>\n        </div>\n\n        <!-- this is for the model tab  -->\n        <div class=\"tile is-ancestor\" v-if=\"currentTab === 'modelinfo'\">\n            <div class=\"tile is-parent is-vertical has-text-left is-4\">\n                <div class=\"tile is-child box notification is-info\">\n                    <p class=\"title is-3 has-text-centered\"> Model Card</p>\n                    <p class=\"title is-5\"><strong>model type: </strong></p> \n                    <p class=\"title is-6\"><code>{{ }}</code></p>\n                    <p class=\"title is-5\"><strong>&#x1F474; parent model: </strong></p> \n                    <p class=\"title is-6\" ><code>{{  }}</code></p>\n                    <p class=\"title is-5\"><strong>training datasets: </strong></p>\n                    <table class=\"table is-bordered\">\n                        <thead>\n                        <tr>\n                            <th><strong>unsupervised</strong></th>\n                            <th><strong>superivsed </strong></th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr>\n                            <td><p class=\"title is-6\"><code>{{  }}</code></p></td>\n                            <td><p class=\"title is-6\"><code>{{  }}</code></p></td>\n                        </tr>\n                        </tbody>\n                    </table>\n\n                    <p class=\"title is-5\"><strong> &#x1F3C6; performance: </strong></p>\n                    <table class=\"table is-bordered\">\n                            <thead>\n                            <tr>\n                                <th><strong>f1</strong></th>\n                                <th><strong>precision </strong></th>\n                                <th><strong>recall </strong></th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr>\n                                <td><p class=\"title is-6\"><code>{{  }}</code></p></td>\n                                <td><p class=\"title is-6\"><code>{{  }}</code></p></td>\n                                <td><p class=\"title is-6\"><code>{{  }}</code></p></td>\n                            </tr>\n                            </tbody>\n                        </table>\n\n                    <p class=\"title is-5\"><strong>ontology: </strong></p>\n                    <table class=\"table is-bordered\">\n                            <thead>\n                            <tr>\n                                <th><strong>name</strong></th>\n                                <th><strong>version </strong></th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr>\n                                <td><p class=\"title is-6\"><code>{{ }}</code></p></td>\n                                <td><p class=\"title is-6\"><code>{{  }}</code></p></td>\n                            </tr>\n                            </tbody>\n                        </table>\n\n                    <p><strong>meta-models: </strong> <code>{{  }}</code></p>\n                </div>\n            </div>\n\n            <div class=\"tile is-parent is-vertical has-text-left is-8\">\n                <p class=\"title is-3 has-text-centered\"> Try Out Model</p>\n                <p>\n                </p>                \n                <section>\n                    <b-field>\n                        <b-input v-if=\"modelonline\" maxlength=\"\" type=\"textarea\" v-model=\"texttosendtomodel\" placeholder=\"paste your text here\"></b-input>\n                        <b-input v-else maxlength=\"\" type=\"textarea\" placeholder=\"paste your text here\" disabled></b-input>\n                    </b-field>\n                    <div class=\"buttons\">\n                        <b-button v-if=\"modelonline\" type=\"is-primary\" expanded @click=\"trymodel()\">Process with model</b-button>\n                        <b-button v-else type=\"is-primary\" expanded disabled>Process with model</b-button>\n\n                    </div>\n                </section>\n                <section>\n                    <pre>\n                    <code>\n                        {{ this.annotationfromodel }}\n                    </code>\n                    </pre>\n\n                </section>\n            </div>\n        </div>\n\n        <!-- this is for the data application tab -->\n        <div v-else> \n            <div class=\"columns is-centered\"> \n                <div class=\"column is-two-thirds is-centered\"> \n                    <article class=\"panel is-primary\">\n                    <p class=\"panel-heading\">\n                        Apply Model to Dataset\n                    </p>\n\n                    <div class=\"panel-block\">\n                        <div class=\"select is-fullwidth\">\n                            <select id=\"selecteddataset\">\n                                <option>Select dataset</option>\n                                <option v-for=\"index in elasticindices\"> {{index}}</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class=\"panel-block\">\n                        <button id=\"applmodelbutton\" class=\"button is-fullwidth\" @click=\"applymodeltodataset()\">\n                        Apply {{ modelname}} to dataset\n                        </button>\n                    </div>\n                    <div v-if=\"modelprocessing\" class=\"panel-block\">\n                            <progress class=\"progress is-small is-primary\" max=\"100\">15%</progress>\n                    </div>\n                    <div v-if=\"modelruncompleted\" class=\"notification is-success\">\n                        <button class=\"delete\" @click=\"hidesuccessmessgage()\"></button>\n                            Your dataset has been annotated. Visit your data <a @click=\"gotodataset()\">here</a>\n                        </div>\n                    </article>\n                </div> \n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*eslint-disable*/\nimport axios from 'axios';\nimport Header from '@/components/Header.vue';\nimport router from '../router'\n\nexport default {\n  name: 'ModelViewer',\n\n  components: {\n    Header,\n  },\n\n\n  data() {\n    return {\n        modelcard: {},\n        currentTab: 'modelinfo',\n        datasearchtext: \"\",\n        texttosendtomodel: \"\",\n        annotationfromodel: \"\",\n        elasticindices: [],\n        modelruncompleted: false,\n        modelprocessing: false,\n        root_api: process.env.VUE_APP_URL,        \n    };\n  },\n\n  methods: {\n\n      fetchmodelcard() {\n        let path = 'http://' + this.root_api  + ':5001/fetchmodelcard';\n        axios.post(path, {'modelid': this.modelid, 'index': this.index}, {headers: {'Authorization': localStorage.getItem('jwt')}})\n        .then((res) => {\n            this.modelcard = res.data.modelcard\n            console.log('model fetch result: ',this.modelname)\n        })\n        .catch((error) => {\n            console.error(error);\n        });\n      },\n\n      gotomodeltab() {\n          this.currentTab = 'modelinfo';\n          document.getElementById(\"usemodeltab\").classList.remove('is-active');\n          document.getElementById(\"modeltab\").classList.add('is-active');\n      },\n\n      gotousemodeltab() {\n          this.currentTab = 'modeluse';\n          document.getElementById(\"modeltab\").classList.remove('is-active');\n          document.getElementById(\"usemodeltab\").classList.add('is-active');\n      },\n\n      gotodataset() {\n          var selecteddataset = document.getElementById(\"selecteddataset\").value;\n\n          router.push({ name: 'DataSearch', params: { index: selecteddataset }});\n      },\n\n      searchindices() {\n        let path = 'http://' + this.root_api  + ':5001/getelasticindices';\n\n        axios.post(path, {'searchstring': this.datasearchtext}, {headers: {'Authorization': localStorage.getItem('jwt')}})\n        .then((res) => {\n            console.log(res.data)\n            this.elasticindices = res.data.indices\n        })\n        .catch((error) => {\n            console.error(error);\n        });\n      },\n\n      applymodeltodataset() {\n        var selecteddataset = document.getElementById(\"selecteddataset\").value;\n        this.modelprocessing = true;\n        let path = 'http://' + this.root_api  + ':5001/annotatenoteswithmodel';\n\n        axios.post(path, {'selecteddataset': selecteddataset, 'modelid': this.modelid}, {headers: {'Authorization': localStorage.getItem('jwt')}})\n        .then((res) => {\n            console.log('finished')\n                this.modelprocessing = false;\n                this.modelruncompleted = true\n        })\n        .catch((error) => {\n            console.error(error);\n        });\n      },\n\n      hidesuccessmessgage() {\n            this.modelruncompleted = false\n      },\n\n      trymodel() {\n        let path = 'http://' + this.root_api  + ':5001/annotatesinglenotewithmodel';\n        axios.post(path, {'modelid': this.modelid, 'text': this.texttosendtomodel}, {headers: {'Authorization': localStorage.getItem('jwt')}})\n        .then((res) => {\n            var results = res.data.results\n            console.log('model fetch result: ', results)\n            this.annotationfromodel = results\n        })\n        .catch((error) => {\n            console.error(error);\n        });          \n      },\n  },\n\n  created() {\n    this.modelid = this.$route.params.modelid;\n    this.modelonline = this.$route.params.modelonline;\n    this.fetchmodelcard();\n    this.searchindices();\n  },\n\n};\n</script>\n\n<style scoped>\ndiv.container {\n      margin-top: 30px;\n    }\n\n</style>\n"]}]}