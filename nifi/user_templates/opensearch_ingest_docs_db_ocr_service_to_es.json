{"flowContents":{"identifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049","instanceIdentifier":"8b6d4280-019c-1000-7df2-8b654b6f4f48","name":"opensearch_ingest_docs_db_ocr_service_to_es","comments":"","position":{"x":-9838.191864013672,"y":-7696.908164978027},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"b0a7e1fd-0197-1000-7799-44654203e24f","instanceIdentifier":"66b9361d-0f43-3caa-34cc-2ae647150c67","name":"ExecuteSQLRecord","comments":"","position":{"x":-1152.0,"y":-1528.0},"type":"org.apache.nifi.processors.standard.ExecuteSQLRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.8.0"},"properties":{"Set Auto Commit":"true","Max Wait Time":"0 seconds","SQL Query":null,"Normalize Table/Column Names":"false","Database Connection Pooling Service":"ae4d900f-d06e-3cc3-acc5-4f6f222a5064","Default Decimal Scale":"0","SQL Post-Query":null,"Fetch Size":"0","Output Batch Size":"0","Use Avro Logical Types":"true","Record Writer":"4ad0bf71-a5de-39f7-9f74-07213d115a9f","SQL Pre-Query":null,"Default Decimal Precision":"10","Max Rows Per FlowFile":"1"},"propertyDescriptors":{"Set Auto Commit":{"name":"Set Auto Commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Normalize Table/Column Names":{"name":"Normalize Table/Column Names","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Default Decimal Scale":{"name":"Default Decimal Scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Post-Query":{"name":"SQL Post-Query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Fetch Size":{"name":"Fetch Size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Batch Size":{"name":"Output Batch Size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Avro Logical Types":{"name":"Use Avro Logical Types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"SQL Pre-Query":{"name":"SQL Pre-Query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Default Decimal Precision":{"name":"Default Decimal Precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Rows Per FlowFile":{"name":"Max Rows Per FlowFile","displayName":"Max Rows Per FlowFile","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","instanceIdentifier":"8dc1eaaa-aabb-39fa-9ce5-60f4d2f17201","name":"SplitJson","comments":"","position":{"x":-1152.0,"y":-688.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.8.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"b0a7e1fe-0197-1000-7d26-f460ed2eec5e","instanceIdentifier":"b135f176-ecd5-3e26-f793-2fe13b61d37f","name":"GenerateTableFetch-encounters","comments":"","position":{"x":-1152.0,"y":-1720.0},"type":"org.apache.nifi.processors.standard.GenerateTableFetch","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.8.0"},"properties":{"Table Name":"encounters","Max Wait Time":"0 seconds","Partition Size":"1000","Database Connection Pooling Service":"ae4d900f-d06e-3cc3-acc5-4f6f222a5064","Database Type":"PostgreSQL","Columns to Return":null,"Maximum-value Columns":"cid","Custom ORDER BY Column":null,"Output Empty FlowFile on Zero Results":"false","Database Dialect Service":null,"Column for Value Partitioning":"cid","Additional WHERE Clause":null},"propertyDescriptors":{"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Partition Size":{"name":"Partition Size","displayName":"Partition Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Database Type":{"name":"Database Type","displayName":"Database Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Columns to Return":{"name":"Columns to Return","displayName":"Columns to Return","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum-value Columns":{"name":"Maximum-value Columns","displayName":"Maximum-value Columns","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom ORDER BY Column":{"name":"Custom ORDER BY Column","displayName":"Custom ORDER BY Column","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Empty FlowFile on Zero Results":{"name":"Output Empty FlowFile on Zero Results","displayName":"Output Empty FlowFile on Zero Results","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Dialect Service":{"name":"Database Dialect Service","displayName":"Database Dialect Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Column for Value Partitioning":{"name":"Column for Value Partitioning","displayName":"Column for Value Partitioning","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Additional WHERE Clause":{"name":"Additional WHERE Clause","displayName":"Additional WHERE Clause","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"1 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"c1de59a6-f215-3d9b-8597-237a1a50852d","instanceIdentifier":"681b08ab-4618-3381-a65a-9edbc914d99a","name":"EvaluateJsonPath","comments":"","position":{"x":-496.0,"y":-688.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.8.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","id":"$.id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"id":{"name":"id","displayName":"id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"22e4a99b-9b48-3dea-920e-e1600becc662","instanceIdentifier":"b0d63f0e-e551-309a-e069-6301aec0e13f","name":"InvokeHTTP","comments":"","position":{"x":-1152.0,"y":-1120.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.8.0"},"properties":{"Request Content-Encoding":"DISABLED","Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"Proxy Configuration Service":null,"HTTP/2 Disabled":"False","Connection Timeout":"15 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"30 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"http://host.docker.internal:8090/api/process","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"30 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Proxy Configuration Service":{"name":"Proxy Configuration Service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","instanceIdentifier":"b6ee9dc4-333c-39ce-236a-a69b4a697cdd","name":"PutElasticsearchJson","comments":"","position":{"x":-496.0,"y":-912.0},"type":"org.apache.nifi.processors.elasticsearch.PutElasticsearchJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-restapi-nar","version":"2.8.0"},"properties":{"Dynamic Templates":null,"Treat Not Found as Success":"true","Script":null,"Max JSON Field String Length":"20 MB","Index Operation":"index","Index":"${generatetablefetch.tableName}","Log Error Responses":"false","Output Error Responses":"false","Identifier Attribute":"id","Type":null,"Batch Size":"100","Scripted Upsert":"false","Client Service":"06280792-dc54-3d7a-9d35-76ce834dcec3","Character Set":"UTF-8"},"propertyDescriptors":{"Dynamic Templates":{"name":"Dynamic Templates","displayName":"Dynamic Templates","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Treat Not Found as Success":{"name":"Treat Not Found as Success","displayName":"Treat Not Found as Success","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script":{"name":"Script","displayName":"Script","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max JSON Field String Length":{"name":"Max JSON Field String Length","displayName":"Max JSON Field String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Index Operation":{"name":"Index Operation","displayName":"Index Operation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Index":{"name":"Index","displayName":"Index","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Log Error Responses":{"name":"Log Error Responses","displayName":"Log Error Responses","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output Error Responses":{"name":"Output Error Responses","displayName":"Output Error Responses","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Identifier Attribute":{"name":"Identifier Attribute","displayName":"Identifier Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Type":{"name":"Type","displayName":"Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Scripted Upsert":{"name":"Scripted Upsert","displayName":"Scripted Upsert","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Client Service":{"name":"Client Service","displayName":"Client Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","successful"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"97cca146-a5f1-376c-8c4b-a98ca43df6d0","instanceIdentifier":"8b6dd99f-019c-1000-4899-f61c50db9ee0","name":"CogStackPrepareRecordForOcr","comments":"","position":{"x":-1152.0,"y":-1320.0},"type":"CogStackPrepareRecordForOcr","bundle":{"group":"org.apache.nifi","artifact":"python-extensions","version":"0.0.1"},"properties":{"binary_field_name":"binarydocument","operation_mode":"base64","process_flow_file_type":"avro","output_text_field_name":"text","document_id_field_name":"id"},"propertyDescriptors":{"binary_field_name":{"name":"binary_field_name","displayName":"binary_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"operation_mode":{"name":"operation_mode","displayName":"operation_mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"process_flow_file_type":{"name":"process_flow_file_type","displayName":"process_flow_file_type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output_text_field_name":{"name":"output_text_field_name","displayName":"output_text_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"document_id_field_name":{"name":"document_id_field_name","displayName":"document_id_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"3750b23c-85f7-3bd2-9018-78143b63a47b","instanceIdentifier":"8b6e9c94-019c-1000-9594-5fbdcb73edc7","name":"CogStackParseCogStackServiceResult","comments":"","position":{"x":-1152.0,"y":-896.0},"type":"CogStackParseCogStackServiceResult","bundle":{"group":"org.apache.nifi","artifact":"python-extensions","version":"0.0.1"},"properties":{"document_text_field_name":"text","medcat_output_mode":"not_set","service_message_type":"ocr","output_text_field_name":"text","document_id_field_name":"id","medcat_deid_keep_annotations":"true"},"propertyDescriptors":{"document_text_field_name":{"name":"document_text_field_name","displayName":"document_text_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"medcat_output_mode":{"name":"medcat_output_mode","displayName":"medcat_output_mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"service_message_type":{"name":"service_message_type","displayName":"service_message_type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output_text_field_name":{"name":"output_text_field_name","displayName":"output_text_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"document_id_field_name":{"name":"document_id_field_name","displayName":"document_id_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"medcat_deid_keep_annotations":{"name":"medcat_deid_keep_annotations","displayName":"medcat_deid_keep_annotations","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"fbabb01c-b959-3437-8bc8-554f3709de45","instanceIdentifier":"f33b1f9b-c2ca-37bc-b8f8-203d866e9d0c","name":"","source":{"id":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"SplitJson","comments":"","instanceIdentifier":"8dc1eaaa-aabb-39fa-9ce5-60f4d2f17201"},"destination":{"id":"97249984-e607-3cf4-a16c-6dc6f5685b17","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"9469753d-adc2-31e5-d2b7-01fc96f80a7a"},"labelIndex":0,"zIndex":29,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"1bf2e59a-3c46-33c6-809c-d92586c396c8","instanceIdentifier":"17a02d34-8908-30b4-a101-c5aea276a01d","name":"","source":{"id":"b0a7e1fe-0197-1000-7d26-f460ed2eec5e","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"GenerateTableFetch-encounters","comments":"","instanceIdentifier":"b135f176-ecd5-3e26-f793-2fe13b61d37f"},"destination":{"id":"d0e96593-ae93-366d-bda1-17ad8ef2ccd0","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"6610be53-1e84-3414-76a4-984ddbfac16b"},"labelIndex":0,"zIndex":2,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"84055802-dd6e-3ffe-9aa3-91c092fd4f07","instanceIdentifier":"6ee89530-de0a-305d-41dc-462818d25f9a","name":"","source":{"id":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"PutElasticsearchJson","comments":"","instanceIdentifier":"b6ee9dc4-333c-39ce-236a-a69b4a697cdd"},"destination":{"id":"5ab77308-8a4c-3b4d-9e2f-681858ce03c4","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"ecbdb65a-a236-32da-e3e0-aa6df8c1490d"},"labelIndex":0,"zIndex":26,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"e6938c74-0b21-3de7-ad8f-3ef1e18c2f5e","instanceIdentifier":"8b6ee220-019c-1000-f456-9f552d3f97f2","name":"","source":{"id":"3750b23c-85f7-3bd2-9018-78143b63a47b","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"CogStackParseCogStackServiceResult","comments":"","instanceIdentifier":"8b6e9c94-019c-1000-9594-5fbdcb73edc7"},"destination":{"id":"1c96b19b-10b0-3f1f-ab60-be8c2b481516","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"8f2aaf5a-d7a3-375a-ebdc-374b6d9aecc2"},"labelIndex":0,"zIndex":38,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"51f84da6-92b7-3971-9cb4-de65ca7359a8","instanceIdentifier":"746c7398-87b7-3b15-61a7-11f28937a14f","name":"","source":{"id":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"SplitJson","comments":"","instanceIdentifier":"8dc1eaaa-aabb-39fa-9ce5-60f4d2f17201"},"destination":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"681b08ab-4618-3381-a65a-9edbc914d99a"},"labelIndex":0,"zIndex":28,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"410f75b5-207d-3ee1-accc-b5bc768a9b20","instanceIdentifier":"c1b81e01-149f-3056-b5e7-bc5bc7628f7c","name":"","source":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"681b08ab-4618-3381-a65a-9edbc914d99a"},"destination":{"id":"8aa474d8-4037-3e6b-81d7-2f50dbb9b2ee","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"f0bd7b1c-673c-3eb5-fe42-dc88be17f95d"},"labelIndex":0,"zIndex":33,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"87d954a3-d65b-347c-b2f4-3fe229c206c9","instanceIdentifier":"8b6f3cec-019c-1000-63f4-da28f09b379c","name":"","source":{"id":"22e4a99b-9b48-3dea-920e-e1600becc662","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"InvokeHTTP","comments":"","instanceIdentifier":"b0d63f0e-e551-309a-e069-6301aec0e13f"},"destination":{"id":"3750b23c-85f7-3bd2-9018-78143b63a47b","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"CogStackParseCogStackServiceResult","comments":"","instanceIdentifier":"8b6e9c94-019c-1000-9594-5fbdcb73edc7"},"labelIndex":0,"zIndex":39,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"94f08f0a-202d-35b7-bee5-5387eb15e2d1","instanceIdentifier":"f0c33626-632d-37e5-4ee7-db0efd65817c","name":"","source":{"id":"b0a7e1fe-0197-1000-7d26-f460ed2eec5e","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"GenerateTableFetch-encounters","comments":"","instanceIdentifier":"b135f176-ecd5-3e26-f793-2fe13b61d37f"},"destination":{"id":"b0a7e1fd-0197-1000-7799-44654203e24f","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"66b9361d-0f43-3caa-34cc-2ae647150c67"},"labelIndex":0,"zIndex":1,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"32dbe6de-d258-37d2-86fe-f6b0626c3384","instanceIdentifier":"24835b67-1462-38cf-825d-e68f27a9086a","name":"","source":{"id":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"PutElasticsearchJson","comments":"","instanceIdentifier":"b6ee9dc4-333c-39ce-236a-a69b4a697cdd"},"destination":{"id":"386800ca-c242-37d0-981a-5d12a5cf0d6e","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"82441fd3-4e55-33b8-8d99-285bd6fb52ef"},"labelIndex":0,"zIndex":27,"selectedRelationships":["failure","errors"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"d525d30e-7744-323c-a6c6-e557aacfef14","instanceIdentifier":"8b6e3e97-019c-1000-49c3-70e4ea18a552","name":"","source":{"id":"b0a7e1fd-0197-1000-7799-44654203e24f","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"66b9361d-0f43-3caa-34cc-2ae647150c67"},"destination":{"id":"97cca146-a5f1-376c-8c4b-a98ca43df6d0","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"CogStackPrepareRecordForOcr","comments":"","instanceIdentifier":"8b6dd99f-019c-1000-4899-f61c50db9ee0"},"labelIndex":0,"zIndex":35,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"89389b4e-fe64-360d-94c7-d0ea68444b3c","instanceIdentifier":"e8bca684-0b24-3731-7489-792abff81480","name":"","source":{"id":"b0a7e1fd-0197-1000-7799-44654203e24f","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"66b9361d-0f43-3caa-34cc-2ae647150c67"},"destination":{"id":"b0dc6924-0197-1000-57e8-8dbd2331558e","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"4206f487-7023-3a12-73cf-8e460c2d2570"},"labelIndex":0,"zIndex":4,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"6f12409a-5ed1-36d9-b9c4-c82f81a7b571","instanceIdentifier":"9be03124-98e6-3803-1a2d-e35107182777","name":"","source":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"681b08ab-4618-3381-a65a-9edbc914d99a"},"destination":{"id":"32097907-c0d5-3475-89d9-8801f540a380","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"47a0bc28-fb7e-3da5-c88e-51cf8969f1b4"},"labelIndex":0,"zIndex":32,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"9e7dfd87-7442-3d32-8cb1-2bdc9fec2838","instanceIdentifier":"415aad25-d321-3852-fe48-ab470f2b62a6","name":"","source":{"id":"22e4a99b-9b48-3dea-920e-e1600becc662","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"InvokeHTTP","comments":"","instanceIdentifier":"b0d63f0e-e551-309a-e069-6301aec0e13f"},"destination":{"id":"b7c65dca-19eb-3c74-bdfa-a436a086e0cd","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"5b815937-1136-36ce-511e-2a5f576af4ee"},"labelIndex":0,"zIndex":8,"selectedRelationships":["No Retry","Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"a7e28e19-fe7a-3362-ab67-0923fd662218","instanceIdentifier":"4ae13991-715d-354f-e28c-d85c93a728db","name":"","source":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"681b08ab-4618-3381-a65a-9edbc914d99a"},"destination":{"id":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"PutElasticsearchJson","comments":"","instanceIdentifier":"b6ee9dc4-333c-39ce-236a-a69b4a697cdd"},"labelIndex":0,"zIndex":31,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"7b4452ef-4fe2-3340-b3f4-45d0907b0978","instanceIdentifier":"8b6ed151-019c-1000-4dff-ab3e6c7c004c","name":"","source":{"id":"3750b23c-85f7-3bd2-9018-78143b63a47b","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"CogStackParseCogStackServiceResult","comments":"","instanceIdentifier":"8b6e9c94-019c-1000-9594-5fbdcb73edc7"},"destination":{"id":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"SplitJson","comments":"","instanceIdentifier":"8dc1eaaa-aabb-39fa-9ce5-60f4d2f17201"},"labelIndex":0,"zIndex":37,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"97bcd005-0144-370c-9c92-1919663d1032","instanceIdentifier":"8b6e518b-019c-1000-fa05-475343b6004f","name":"","source":{"id":"97cca146-a5f1-376c-8c4b-a98ca43df6d0","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"CogStackPrepareRecordForOcr","comments":"","instanceIdentifier":"8b6dd99f-019c-1000-4899-f61c50db9ee0"},"destination":{"id":"22e4a99b-9b48-3dea-920e-e1600becc662","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"InvokeHTTP","comments":"","instanceIdentifier":"b0d63f0e-e551-309a-e069-6301aec0e13f"},"labelIndex":0,"zIndex":36,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"d92ca9c0-f829-307e-83a5-0ad2d8845374","instanceIdentifier":"8b6e296a-019c-1000-05a8-7d85e903ba12","name":"","source":{"id":"97cca146-a5f1-376c-8c4b-a98ca43df6d0","type":"PROCESSOR","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"CogStackPrepareRecordForOcr","comments":"","instanceIdentifier":"8b6dd99f-019c-1000-4899-f61c50db9ee0"},"destination":{"id":"3898e396-9a16-387d-bffa-b1ae83c622e0","type":"FUNNEL","groupId":"2252b346-cb83-3a0f-acb9-f65dc5e34049","name":"Funnel","comments":"","instanceIdentifier":"c5575428-e39e-334b-1400-15615134ff0e"},"labelIndex":0,"zIndex":34,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"}],"labels":[{"identifier":"0ccecdf2-914a-32fb-bf20-ea67ea924b9a","instanceIdentifier":"92bb5ab8-cdff-3846-7264-7231c8ad68e0","position":{"x":-792.0,"y":-1120.0},"label":"OCR-ing takes place here, please make sure you have ocr-service/ocr-service-1 Docker container running, and the ports 8090 (for ocr-ing) / 8091 (text extraction only) are free.","zIndex":2,"width":256.0,"height":128.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"760c2491-0198-1000-3cfc-b0cebed70256","instanceIdentifier":"44528891-3074-311d-9f9e-cc23d32c3d10","position":{"x":-1152.0,"y":-544.0},"label":"We split the json because we want 1 record per flowfile, so that we can later update the attributes of the flowfile withe the record's UUID.\n\nIMPORTANT: note the path expression : $.*","zIndex":2,"width":352.0,"height":104.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"30b8928d-679e-3c15-b5b4-ce7efcde9231","instanceIdentifier":"e7b29fdb-712e-30a7-7890-217ea5a1cc3a","position":{"x":-152.0,"y":-1072.0},"label":"Notice that the ElasticsearchJson processor supports only insertion by attribute name, as opposed to the ElasticsearchRecord processor that takes the desired identifier directly from the avro flowfile.","zIndex":4,"width":288.0,"height":136.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"76037ca7-0198-1000-e6d6-7366ac6b8d44","instanceIdentifier":"36902c74-0587-3e7b-9e89-e651f1fb98c7","position":{"x":-1160.0,"y":-1760.0},"label":"Simple ingestion from PgSQL with OCR to ElasticSearch","zIndex":1,"width":368.0,"height":24.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"d1458db0-dccc-3554-98b1-2e54c2937481","instanceIdentifier":"afe414bd-dfa5-30ab-13fd-0283eb6d5304","position":{"x":-136.0,"y":-584.0},"label":"Check the EvaluateJsonPath, we add a new property called \"id\" with the value \"$.id\" , takes the value from the json.\n","zIndex":3,"width":320.0,"height":104.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"}],"funnels":[{"identifier":"32097907-c0d5-3475-89d9-8801f540a380","instanceIdentifier":"47a0bc28-fb7e-3da5-c88e-51cf8969f1b4","position":{"x":-344.0,"y":-496.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"b0dc6924-0197-1000-57e8-8dbd2331558e","instanceIdentifier":"4206f487-7023-3a12-73cf-8e460c2d2570","position":{"x":-1480.0,"y":-1488.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"d0e96593-ae93-366d-bda1-17ad8ef2ccd0","instanceIdentifier":"6610be53-1e84-3414-76a4-984ddbfac16b","position":{"x":-1480.0,"y":-1680.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"97249984-e607-3cf4-a16c-6dc6f5685b17","instanceIdentifier":"9469753d-adc2-31e5-d2b7-01fc96f80a7a","position":{"x":-1480.0,"y":-640.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"3898e396-9a16-387d-bffa-b1ae83c622e0","instanceIdentifier":"c5575428-e39e-334b-1400-15615134ff0e","position":{"x":-1480.0,"y":-1280.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"8aa474d8-4037-3e6b-81d7-2f50dbb9b2ee","instanceIdentifier":"f0bd7b1c-673c-3eb5-fe42-dc88be17f95d","position":{"x":136.0,"y":-656.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"386800ca-c242-37d0-981a-5d12a5cf0d6e","instanceIdentifier":"82441fd3-4e55-33b8-8d99-285bd6fb52ef","position":{"x":-344.0,"y":-1032.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"b7c65dca-19eb-3c74-bdfa-a436a086e0cd","instanceIdentifier":"5b815937-1136-36ce-511e-2a5f576af4ee","position":{"x":-1480.0,"y":-1072.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"1c96b19b-10b0-3f1f-ab60-be8c2b481516","instanceIdentifier":"8f2aaf5a-d7a3-375a-ebdc-374b6d9aecc2","position":{"x":-1480.0,"y":-864.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"5ab77308-8a4c-3b4d-9e2f-681858ce03c4","instanceIdentifier":"ecbdb65a-a236-32da-e3e0-aa6df8c1490d","position":{"x":136.0,"y":-864.0},"componentType":"FUNNEL","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"}],"controllerServices":[{"identifier":"cf502be1-705e-3731-95b7-2dbd5c603c26","instanceIdentifier":"8b72bdb1-019c-1000-84a6-185117af0a57","name":"StandardSSLContextService","comments":"","type":"org.apache.nifi.ssl.StandardSSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-ssl-context-service-nar","version":"2.8.0"},"properties":{"Truststore Type":"JKS","Keystore Type":"JKS","Truststore Filename":"/security/certificates/elastic/opensearch/elasticsearch/elasticsearch-1/elasticsearch-1-truststore.key","TLS Protocol":"TLS","Keystore Filename":"/security/certificates/elastic/opensearch/elasticsearch/elasticsearch-1/elasticsearch-1-keystore.jks"},"propertyDescriptors":{"Truststore Type":{"name":"Truststore Type","displayName":"Truststore Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Key Password":{"name":"Key Password","displayName":"Key Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Keystore Type":{"name":"Keystore Type","displayName":"Keystore Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Truststore Filename":{"name":"Truststore Filename","displayName":"Truststore Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Keystore Password":{"name":"Keystore Password","displayName":"Keystore Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Truststore Password":{"name":"Truststore Password","displayName":"Truststore Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"TLS Protocol":{"name":"TLS Protocol","displayName":"TLS Protocol","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Keystore Filename":{"name":"Keystore Filename","displayName":"Keystore Filename","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}}},"controllerServiceApis":[{"type":"org.apache.nifi.ssl.SSLContextProvider","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.8.0"}},{"type":"org.apache.nifi.ssl.SSLContextService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.8.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"ae4d900f-d06e-3cc3-acc5-4f6f222a5064","instanceIdentifier":"ca5886c3-edf0-36b8-fea8-029aefb6e46a","name":"DBCPConnectionPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"2.8.0"},"properties":{"Maximum Idle Connections":"8","Database Driver Locations":"/opt/nifi/drivers/postgresql-42.7.7.jar","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","Minimum Idle Connections":"0","Kerberos User Service":null,"Max Total Connections":"8","Validation Query":null,"Database Password Provider":null,"Database Connection URL":"jdbc:postgresql://samples-db:5432/db_samples","Password Source":"PASSWORD","Time Between Eviction Runs":"-1","Database User":"test","Soft Minimum Evictable Idle Time":"-1","Maximum Connection Lifetime":"-1","Minimum Evictable Idle Time":"30 mins"},"propertyDescriptors":{"Maximum Idle Connections":{"name":"Maximum Idle Connections","displayName":"Maximum Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Driver Locations":{"name":"Database Driver Locations","displayName":"Database Driver Locations","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Minimum Idle Connections":{"name":"Minimum Idle Connections","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Kerberos User Service":{"name":"Kerberos User Service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Validation Query":{"name":"Validation Query","displayName":"Validation Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Password Provider":{"name":"Database Password Provider","displayName":"Database Password Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password Source":{"name":"Password Source","displayName":"Password Source","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Time Between Eviction Runs":{"name":"Time Between Eviction Runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Soft Minimum Evictable Idle Time":{"name":"Soft Minimum Evictable Idle Time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Connection Lifetime":{"name":"Maximum Connection Lifetime","displayName":"Maximum Connection Lifetime","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Minimum Evictable Idle Time":{"name":"Minimum Evictable Idle Time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.8.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"06280792-dc54-3d7a-9d35-76ce834dcec3","instanceIdentifier":"2b308efb-dfdd-3902-ba75-277d969687ad","name":"ElasticSearchClientServiceImpl","comments":"","type":"org.apache.nifi.elasticsearch.ElasticSearchClientServiceImpl","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-nar","version":"2.8.0"},"properties":{"Sniffer Request Timeout":"1 sec","Connect Timeout":"5000","HTTP Hosts":"https://elasticsearch-1:9200,https://elasticsearch-2:9200","Path Prefix":null,"API Key ID":null,"Enable Compression":"false","Read Timeout":"60000","Sniff on Failure":"false","Sniffer Failure Delay":"1 min","OAuth2 Access Token Provider":null,"Suppress Null and Empty Values":"always-suppress","Node Selector":"ANY","Proxy Configuration Service":null,"Strict Deprecation":"false","Sniff Cluster Nodes":"false","SSL Context Service":"cf502be1-705e-3731-95b7-2dbd5c603c26","Send Meta Header":"true","Username":"admin","Authorization Scheme":"BASIC","Sniffer Interval":"5 mins","Run As User":null,"Character Set":"UTF-8"},"propertyDescriptors":{"Sniffer Request Timeout":{"name":"Sniffer Request Timeout","displayName":"Sniffer Request Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connect Timeout":{"name":"Connect Timeout","displayName":"Connect Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"API Key ID":{"name":"API Key ID","displayName":"API Key ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Enable Compression":{"name":"Enable Compression","displayName":"Enable Compression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Sniff on Failure":{"name":"Sniff on Failure","displayName":"Sniff on Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Provider":{"name":"OAuth2 Access Token Provider","displayName":"OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Node Selector":{"name":"Node Selector","displayName":"Node Selector","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Proxy Configuration Service":{"name":"Proxy Configuration Service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Strict Deprecation":{"name":"Strict Deprecation","displayName":"Strict Deprecation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JWT Shared Secret":{"name":"JWT Shared Secret","displayName":"JWT Shared Secret","identifiesControllerService":false,"sensitive":true,"dynamic":false},"API Key":{"name":"API Key","displayName":"API Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Send Meta Header":{"name":"Send Meta Header","displayName":"Send Meta Header","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Authorization Scheme":{"name":"Authorization Scheme","displayName":"Authorization Scheme","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"HTTP Hosts":{"name":"HTTP Hosts","displayName":"HTTP Hosts","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Prefix":{"name":"Path Prefix","displayName":"Path Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Read Timeout":{"name":"Read Timeout","displayName":"Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Sniffer Failure Delay":{"name":"Sniffer Failure Delay","displayName":"Sniffer Failure Delay","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Suppress Null and Empty Values":{"name":"Suppress Null and Empty Values","displayName":"Suppress Null and Empty Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Sniff Cluster Nodes":{"name":"Sniff Cluster Nodes","displayName":"Sniff Cluster Nodes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Username":{"name":"Username","displayName":"Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Sniffer Interval":{"name":"Sniffer Interval","displayName":"Sniffer Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Run As User":{"name":"Run As User","displayName":"Run As User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.elasticsearch.ElasticSearchClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-api-nar","version":"2.8.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"},{"identifier":"4ad0bf71-a5de-39f7-9f74-07213d115a9f","instanceIdentifier":"2f9bab3f-89fd-396f-d345-cb9e23435508","name":"AvroRecordSetWriter","comments":"","type":"org.apache.nifi.avro.AvroRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.8.0"},"properties":{"Schema Branch":null,"Schema Reference Reader":null,"Schema Text":"${avro.schema}","Schema Registry":null,"Schema Access Strategy":"inherit-record-schema","Schema Name":"${schema.name}","Schema Write Strategy":"avro-embedded","Encoder Pool Size":"32","Compression Format":"NONE","Schema Cache":null,"Schema Version":null,"Cache Size":"1000","Schema Reference Writer":null},"propertyDescriptors":{"Schema Branch":{"name":"Schema Branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Reader":{"name":"Schema Reference Reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Schema Text":{"name":"Schema Text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Registry":{"name":"Schema Registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Schema Access Strategy":{"name":"Schema Access Strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Name":{"name":"Schema Name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Encoder Pool Size":{"name":"Encoder Pool Size","displayName":"Encoder Pool Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Compression Format":{"name":"Compression Format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Cache":{"name":"Schema Cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Schema Version":{"name":"Schema Version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache Size":{"name":"Cache Size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.8.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"2252b346-cb83-3a0f-acb9-f65dc5e34049"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}