{"flowContents":{"identifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6","instanceIdentifier":"ac53b3e2-0197-1000-91ff-d0c8b0a917bf","name":"opensearch_ingest_docs_db_ocr_service_to_es","comments":"","position":{"x":-888.0,"y":-904.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"b0a7e1fd-0197-1000-7799-44654203e24f","instanceIdentifier":"d7eda7f8-b08c-3249-36e2-157073050576","name":"ExecuteSQLRecord","comments":"","position":{"x":-1152.0,"y":-1528.0},"type":"org.apache.nifi.processors.standard.ExecuteSQLRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"esql-max-rows":"1","esqlrecord-record-writer":"4ad0bf71-a5de-39f7-9f74-07213d115a9f","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":null,"Database Connection Pooling Service":"ae4d900f-d06e-3cc3-acc5-4f6f222a5064","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"true","dbf-default-scale":"0","sql-pre-query":null,"esql-output-batch-size":"0","esql-fetch-size":"0","esqlrecord-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-record-writer":{"name":"esqlrecord-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-normalize":{"name":"esqlrecord-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"b0a7e1fe-0197-1000-7d26-f460ed2eec5e","instanceIdentifier":"86014d3b-6ffd-32eb-0021-e34d14061232","name":"GenerateTableFetch-encounters","comments":"","position":{"x":-1152.0,"y":-1720.0},"type":"org.apache.nifi.processors.standard.GenerateTableFetch","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"gen-table-output-flowfile-on-zero-results":"false","Table Name":"encounters","db-fetch-db-type":"PostgreSQL","gen-table-custom-orderby-column":null,"Max Wait Time":"0 seconds","Database Connection Pooling Service":"ae4d900f-d06e-3cc3-acc5-4f6f222a5064","gen-table-fetch-partition-size":"1000","Columns to Return":null,"Maximum-value Columns":"cid","db-fetch-where-clause":null,"Database Dialect Service":null,"gen-table-column-for-val-partitioning":"cid"},"propertyDescriptors":{"gen-table-output-flowfile-on-zero-results":{"name":"gen-table-output-flowfile-on-zero-results","displayName":"Output Empty FlowFile on Zero Results","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Table Name":{"name":"Table Name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"db-fetch-db-type":{"name":"db-fetch-db-type","displayName":"Database Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"gen-table-custom-orderby-column":{"name":"gen-table-custom-orderby-column","displayName":"Custom ORDER BY Column","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"gen-table-fetch-partition-size":{"name":"gen-table-fetch-partition-size","displayName":"Partition Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Columns to Return":{"name":"Columns to Return","displayName":"Columns to Return","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum-value Columns":{"name":"Maximum-value Columns","displayName":"Maximum-value Columns","identifiesControllerService":false,"sensitive":false,"dynamic":false},"db-fetch-where-clause":{"name":"db-fetch-where-clause","displayName":"Additional WHERE clause","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Dialect Service":{"name":"Database Dialect Service","displayName":"Database Dialect Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"gen-table-column-for-val-partitioning":{"name":"gen-table-column-for-val-partitioning","displayName":"Column for Value Partitioning","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"1 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","instanceIdentifier":"7609e060-0198-1000-95b7-682306ef1fa2","name":"SplitJson","comments":"","position":{"x":-1152.0,"y":-688.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"0d4dbee6-3eeb-37af-93dd-ca6ce1ae099a","instanceIdentifier":"f8aa82d8-0197-1000-3b7c-d3bce0e092d7","name":"ParseCogStackServiceResult","comments":"","position":{"x":-1152.0,"y":-904.0},"type":"ParseCogStackServiceResult","bundle":{"group":"org.apache.nifi","artifact":"python-extensions","version":"0.0.1"},"properties":{"binary_field_name":"not_set","service_message_type":"ocr","output_text_field_name":"text"},"propertyDescriptors":{"binary_field_name":{"name":"binary_field_name","displayName":"binary_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"service_message_type":{"name":"service_message_type","displayName":"service_message_type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output_text_field_name":{"name":"output_text_field_name","displayName":"output_text_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"c1de59a6-f215-3d9b-8597-237a1a50852d","instanceIdentifier":"7613cf38-0198-1000-74e0-e0a782b46e07","name":"EvaluateJsonPath","comments":"","position":{"x":-496.0,"y":-688.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","id":"$.id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"id":{"name":"id","displayName":"id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"67377fd2-5be7-3dbf-843b-e41f3e1841e0","instanceIdentifier":"6bb4d20c-0198-1000-0dbb-a892a4942617","name":"PrepareRecordForOcr","comments":"","position":{"x":-1152.0,"y":-1336.0},"type":"PrepareRecordForOcr","bundle":{"group":"org.apache.nifi","artifact":"python-extensions","version":"0.0.1"},"properties":{"binary_field_name":"binarydocument","operation_mode":"base64","process_flow_file_type":"avro","output_text_field_name":"not_set","document_id_field_name":"id"},"propertyDescriptors":{"binary_field_name":{"name":"binary_field_name","displayName":"binary_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"operation_mode":{"name":"operation_mode","displayName":"operation_mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"process_flow_file_type":{"name":"process_flow_file_type","displayName":"process_flow_file_type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output_text_field_name":{"name":"output_text_field_name","displayName":"output_text_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"document_id_field_name":{"name":"document_id_field_name","displayName":"document_id_field_name","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"22e4a99b-9b48-3dea-920e-e1600becc662","instanceIdentifier":"cc0430d1-0197-1000-03a6-ec9a6d320496","name":"InvokeHTTP","comments":"","position":{"x":-1152.0,"y":-1120.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.4.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"http://host.docker.internal:8090/api/process","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","instanceIdentifier":"7605f33c-0198-1000-7191-8879f9bfbf40","name":"PutElasticsearchJson","comments":"","position":{"x":-496.0,"y":-912.0},"type":"org.apache.nifi.processors.elasticsearch.PutElasticsearchJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-restapi-nar","version":"2.4.0"},"properties":{"put-es-json-dynamic_templates":null,"Max JSON Field String Length":"20 MB","put-es-record-batch-size":"100","put-es-record-index-op":"index","put-es-output-error-responses":"false","el-rest-fetch-index":"${generatetablefetch.tableName}","put-es-json-scripted-upsert":"false","put-es-json-charset":"UTF-8","el-rest-client-service":"06280792-dc54-3d7a-9d35-76ce834dcec3","put-es-record-log-error-responses":"false","put-es-json-id-attr":"id","el-rest-type":null,"put-es-not_found-is-error":"true","put-es-json-script":null},"propertyDescriptors":{"put-es-json-dynamic_templates":{"name":"put-es-json-dynamic_templates","displayName":"Dynamic Templates","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max JSON Field String Length":{"name":"Max JSON Field String Length","displayName":"Max JSON Field String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-record-batch-size":{"name":"put-es-record-batch-size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-record-index-op":{"name":"put-es-record-index-op","displayName":"Index Operation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-output-error-responses":{"name":"put-es-output-error-responses","displayName":"Output Error Responses","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-rest-fetch-index":{"name":"el-rest-fetch-index","displayName":"Index","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-json-scripted-upsert":{"name":"put-es-json-scripted-upsert","displayName":"Scripted Upsert","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-json-charset":{"name":"put-es-json-charset","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-rest-client-service":{"name":"el-rest-client-service","displayName":"Client Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"put-es-record-log-error-responses":{"name":"put-es-record-log-error-responses","displayName":"Log Error Responses","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-json-id-attr":{"name":"put-es-json-id-attr","displayName":"Identifier Attribute","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-rest-type":{"name":"el-rest-type","displayName":"Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-not_found-is-error":{"name":"put-es-not_found-is-error","displayName":"Treat \"Not Found\" as Success","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-es-json-script":{"name":"put-es-json-script","displayName":"Script","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","successful"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"c65d5421-f78f-3592-85f4-85d2b8baeafa","instanceIdentifier":"6bb54c67-0198-1000-3200-3fd7f9ff6eb4","name":"","source":{"id":"67377fd2-5be7-3dbf-843b-e41f3e1841e0","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"PrepareRecordForOcr","comments":"","instanceIdentifier":"6bb4d20c-0198-1000-0dbb-a892a4942617"},"destination":{"id":"3898e396-9a16-387d-bffa-b1ae83c622e0","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"b67799da-0197-1000-c273-155f1506ad99"},"labelIndex":0,"zIndex":23,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"fbabb01c-b959-3437-8bc8-554f3709de45","instanceIdentifier":"760a7ce8-0198-1000-e5ce-5eed107a5ee8","name":"","source":{"id":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"SplitJson","comments":"","instanceIdentifier":"7609e060-0198-1000-95b7-682306ef1fa2"},"destination":{"id":"97249984-e607-3cf4-a16c-6dc6f5685b17","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"760a66e2-0198-1000-ba53-95932a3657e5"},"labelIndex":0,"zIndex":29,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"1bf2e59a-3c46-33c6-809c-d92586c396c8","instanceIdentifier":"b0a83bb2-0197-1000-05f0-edd35847c870","name":"","source":{"id":"b0a7e1fe-0197-1000-7d26-f460ed2eec5e","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"GenerateTableFetch-encounters","comments":"","instanceIdentifier":"86014d3b-6ffd-32eb-0021-e34d14061232"},"destination":{"id":"d0e96593-ae93-366d-bda1-17ad8ef2ccd0","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"b0a82a82-0197-1000-958f-36a4d5a01484"},"labelIndex":0,"zIndex":2,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"84055802-dd6e-3ffe-9aa3-91c092fd4f07","instanceIdentifier":"76068b80-0198-1000-c129-30c6be3b4524","name":"","source":{"id":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"PutElasticsearchJson","comments":"","instanceIdentifier":"7605f33c-0198-1000-7191-8879f9bfbf40"},"destination":{"id":"5ab77308-8a4c-3b4d-9e2f-681858ce03c4","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"7602e01f-0198-1000-e19a-72aa6b027d62"},"labelIndex":0,"zIndex":26,"selectedRelationships":["retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"51f84da6-92b7-3971-9cb4-de65ca7359a8","instanceIdentifier":"760a590a-0198-1000-c96e-0443a8ef5ba5","name":"","source":{"id":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"SplitJson","comments":"","instanceIdentifier":"7609e060-0198-1000-95b7-682306ef1fa2"},"destination":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7613cf38-0198-1000-74e0-e0a782b46e07"},"labelIndex":0,"zIndex":28,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"62cc65e3-c17e-32d1-bdee-35cf05469acf","instanceIdentifier":"f8aac016-0197-1000-d2ce-548e3487ebef","name":"","source":{"id":"0d4dbee6-3eeb-37af-93dd-ca6ce1ae099a","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"ParseCogStackServiceResult","comments":"","instanceIdentifier":"f8aa82d8-0197-1000-3b7c-d3bce0e092d7"},"destination":{"id":"63d97939-57b6-36a3-91e2-ee0f4cee2b02","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"SplitJson","comments":"","instanceIdentifier":"7609e060-0198-1000-95b7-682306ef1fa2"},"labelIndex":0,"zIndex":20,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"410f75b5-207d-3ee1-accc-b5bc768a9b20","instanceIdentifier":"7614bf4e-0198-1000-bfa7-91244373aadc","name":"","source":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7613cf38-0198-1000-74e0-e0a782b46e07"},"destination":{"id":"8aa474d8-4037-3e6b-81d7-2f50dbb9b2ee","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"76149d79-0198-1000-8984-148c40f102b3"},"labelIndex":0,"zIndex":33,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"94f08f0a-202d-35b7-bee5-5387eb15e2d1","instanceIdentifier":"b0a821d5-0197-1000-1b67-8e2eb16331d7","name":"","source":{"id":"b0a7e1fe-0197-1000-7d26-f460ed2eec5e","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"GenerateTableFetch-encounters","comments":"","instanceIdentifier":"86014d3b-6ffd-32eb-0021-e34d14061232"},"destination":{"id":"b0a7e1fd-0197-1000-7799-44654203e24f","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"d7eda7f8-b08c-3249-36e2-157073050576"},"labelIndex":0,"zIndex":1,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"32dbe6de-d258-37d2-86fe-f6b0626c3384","instanceIdentifier":"7606aa7c-0198-1000-8004-c66610b6f0bf","name":"","source":{"id":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"PutElasticsearchJson","comments":"","instanceIdentifier":"7605f33c-0198-1000-7191-8879f9bfbf40"},"destination":{"id":"386800ca-c242-37d0-981a-5d12a5cf0d6e","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"7602d920-0198-1000-8624-cb5e6995a3a0"},"labelIndex":0,"zIndex":27,"selectedRelationships":["failure","errors"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"89389b4e-fe64-360d-94c7-d0ea68444b3c","instanceIdentifier":"b0dc8d54-0197-1000-7d94-a9318be234c4","name":"","source":{"id":"b0a7e1fd-0197-1000-7799-44654203e24f","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"d7eda7f8-b08c-3249-36e2-157073050576"},"destination":{"id":"b0dc6924-0197-1000-57e8-8dbd2331558e","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"0794223c-4ad1-36ba-c744-cf9f0f51947c"},"labelIndex":0,"zIndex":4,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"a09eb105-a19c-3b89-9380-f8a677c462f9","instanceIdentifier":"ea90d121-0197-1000-64eb-2558aeec3b6f","name":"","source":{"id":"b0a7e1fd-0197-1000-7799-44654203e24f","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"ExecuteSQLRecord","comments":"","instanceIdentifier":"d7eda7f8-b08c-3249-36e2-157073050576"},"destination":{"id":"67377fd2-5be7-3dbf-843b-e41f3e1841e0","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"PrepareRecordForOcr","comments":"","instanceIdentifier":"6bb4d20c-0198-1000-0dbb-a892a4942617"},"labelIndex":0,"zIndex":14,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"6f12409a-5ed1-36d9-b9c4-c82f81a7b571","instanceIdentifier":"76149147-0198-1000-2f3f-ad32c6ad60c5","name":"","source":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7613cf38-0198-1000-74e0-e0a782b46e07"},"destination":{"id":"32097907-c0d5-3475-89d9-8801f540a380","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"76147db1-0198-1000-5155-44cd07c7df22"},"labelIndex":0,"zIndex":32,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"4a7343d8-f6d5-337c-b79c-fd71befc212b","instanceIdentifier":"6bb521cb-0198-1000-5207-5289d595f9f1","name":"","source":{"id":"67377fd2-5be7-3dbf-843b-e41f3e1841e0","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"PrepareRecordForOcr","comments":"","instanceIdentifier":"6bb4d20c-0198-1000-0dbb-a892a4942617"},"destination":{"id":"22e4a99b-9b48-3dea-920e-e1600becc662","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"InvokeHTTP","comments":"","instanceIdentifier":"cc0430d1-0197-1000-03a6-ec9a6d320496"},"labelIndex":0,"zIndex":22,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"1690eec1-7f56-34d1-b6d8-131a855d564d","instanceIdentifier":"f8aadad8-0197-1000-e9dd-ae1ed6997abd","name":"","source":{"id":"0d4dbee6-3eeb-37af-93dd-ca6ce1ae099a","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"ParseCogStackServiceResult","comments":"","instanceIdentifier":"f8aa82d8-0197-1000-3b7c-d3bce0e092d7"},"destination":{"id":"1c96b19b-10b0-3f1f-ab60-be8c2b481516","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"f8aacdd5-0197-1000-3bf5-aa2c23ee0ebd"},"labelIndex":0,"zIndex":21,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"9e7dfd87-7442-3d32-8cb1-2bdc9fec2838","instanceIdentifier":"ccf1cbe6-0197-1000-836b-38c9bcea1b82","name":"","source":{"id":"22e4a99b-9b48-3dea-920e-e1600becc662","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"InvokeHTTP","comments":"","instanceIdentifier":"cc0430d1-0197-1000-03a6-ec9a6d320496"},"destination":{"id":"b7c65dca-19eb-3c74-bdfa-a436a086e0cd","type":"FUNNEL","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"Funnel","comments":"","instanceIdentifier":"ccf1a9a4-0197-1000-e7cc-0bc18ba0cdc9"},"labelIndex":0,"zIndex":8,"selectedRelationships":["No Retry","Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"8acdcc0a-63ce-330d-9647-1dc839f5dde9","instanceIdentifier":"ccf1eb8a-0197-1000-65c2-97ea7b8eb19a","name":"","source":{"id":"22e4a99b-9b48-3dea-920e-e1600becc662","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"InvokeHTTP","comments":"","instanceIdentifier":"cc0430d1-0197-1000-03a6-ec9a6d320496"},"destination":{"id":"0d4dbee6-3eeb-37af-93dd-ca6ce1ae099a","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"ParseCogStackServiceResult","comments":"","instanceIdentifier":"f8aa82d8-0197-1000-3b7c-d3bce0e092d7"},"labelIndex":0,"zIndex":9,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"a7e28e19-fe7a-3362-ab67-0923fd662218","instanceIdentifier":"76141009-0198-1000-64bd-201356cfb22d","name":"","source":{"id":"c1de59a6-f215-3d9b-8597-237a1a50852d","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7613cf38-0198-1000-74e0-e0a782b46e07"},"destination":{"id":"fb1931a4-27ef-3ac3-ab5b-120c720f67e7","type":"PROCESSOR","groupId":"98edae4d-041a-34b0-a047-16fac1bc2aa6","name":"PutElasticsearchJson","comments":"","instanceIdentifier":"7605f33c-0198-1000-7191-8879f9bfbf40"},"labelIndex":0,"zIndex":31,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"}],"labels":[{"identifier":"0ccecdf2-914a-32fb-bf20-ea67ea924b9a","instanceIdentifier":"7603efe9-0198-1000-c713-168239c27c7e","position":{"x":-792.0,"y":-1120.0},"label":"OCR-ing takes place here, please make sure you have ocr-service/ocr-service-1 Docker container running, and the ports 8090 (for ocr-ing) / 8091 (text extraction only) are free.","zIndex":2,"width":256.0,"height":128.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"760c2491-0198-1000-3cfc-b0cebed70256","instanceIdentifier":"96688048-1253-3e43-9e98-863666867211","position":{"x":-1152.0,"y":-544.0},"label":"We split the json because we want 1 record per flowfile, so that we can later update the attributes of the flowfile withe the record's UUID.\n\nIMPORTANT: note the path expression : $.*","zIndex":2,"width":352.0,"height":104.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"30b8928d-679e-3c15-b5b4-ce7efcde9231","instanceIdentifier":"7715ef71-0198-1000-9cdb-e287400501ca","position":{"x":-56.0,"y":-1048.0},"label":"Notice that the ElasticsearchJson processor supports only insertion by attribute name, as opposed to the ElasticsearchRecord processor that takes the desired identifier directly from the avro flowfile.","zIndex":4,"width":150.0,"height":150.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"76037ca7-0198-1000-e6d6-7366ac6b8d44","instanceIdentifier":"24905ea2-1fcd-38d1-9e52-96a45b3a483e","position":{"x":-1160.0,"y":-1760.0},"label":"Simple ingestion from PgSQL with OCR to ElasticSearch","zIndex":1,"width":368.0,"height":24.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"d1458db0-dccc-3554-98b1-2e54c2937481","instanceIdentifier":"76154ea2-0198-1000-31a0-172f1d51e408","position":{"x":-136.0,"y":-584.0},"label":"Check the EvaluateJsonPath, we add a new property called \"id\" with the value \"$.id\" , takes the value from the json.\n","zIndex":3,"width":320.0,"height":104.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"}],"funnels":[{"identifier":"32097907-c0d5-3475-89d9-8801f540a380","instanceIdentifier":"76147db1-0198-1000-5155-44cd07c7df22","position":{"x":-344.0,"y":-496.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"b0dc6924-0197-1000-57e8-8dbd2331558e","instanceIdentifier":"0794223c-4ad1-36ba-c744-cf9f0f51947c","position":{"x":-1480.0,"y":-1488.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"d0e96593-ae93-366d-bda1-17ad8ef2ccd0","instanceIdentifier":"b0a82a82-0197-1000-958f-36a4d5a01484","position":{"x":-1480.0,"y":-1680.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"97249984-e607-3cf4-a16c-6dc6f5685b17","instanceIdentifier":"760a66e2-0198-1000-ba53-95932a3657e5","position":{"x":-1472.0,"y":-640.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"8aa474d8-4037-3e6b-81d7-2f50dbb9b2ee","instanceIdentifier":"76149d79-0198-1000-8984-148c40f102b3","position":{"x":136.0,"y":-656.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"3898e396-9a16-387d-bffa-b1ae83c622e0","instanceIdentifier":"b67799da-0197-1000-c273-155f1506ad99","position":{"x":-1480.0,"y":-1296.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"b7c65dca-19eb-3c74-bdfa-a436a086e0cd","instanceIdentifier":"ccf1a9a4-0197-1000-e7cc-0bc18ba0cdc9","position":{"x":-1472.0,"y":-1072.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"386800ca-c242-37d0-981a-5d12a5cf0d6e","instanceIdentifier":"7602d920-0198-1000-8624-cb5e6995a3a0","position":{"x":-344.0,"y":-1032.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"1c96b19b-10b0-3f1f-ab60-be8c2b481516","instanceIdentifier":"f8aacdd5-0197-1000-3bf5-aa2c23ee0ebd","position":{"x":-1472.0,"y":-864.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"},{"identifier":"5ab77308-8a4c-3b4d-9e2f-681858ce03c4","instanceIdentifier":"7602e01f-0198-1000-e19a-72aa6b027d62","position":{"x":128.0,"y":-864.0},"componentType":"FUNNEL","groupIdentifier":"98edae4d-041a-34b0-a047-16fac1bc2aa6"}],"controllerServices":[{"identifier":"ae4d900f-d06e-3cc3-acc5-4f6f222a5064","instanceIdentifier":"6bbb4ba2-0198-1000-55ba-fe6cdab9543f","name":"DBCPConnectionPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"2.4.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","Max Total Connections":"8","dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://samples-db:5432/db_samples","dbcp-time-between-eviction-runs":"-1","Database User":"test","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/opt/nifi/drivers/postgresql-42.7.7.jar","dbcp-max-idle-conns":"8"},"propertyDescriptors":{"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["URL","DIRECTORY","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"ac53b3e2-0197-1000-91ff-d0c8b0a917bf"},{"identifier":"06280792-dc54-3d7a-9d35-76ce834dcec3","instanceIdentifier":"6cf1af26-0198-1000-53a1-750027cad544","name":"ElasticSearchClientServiceImpl","comments":"","type":"org.apache.nifi.elasticsearch.ElasticSearchClientServiceImpl","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-nar","version":"2.4.0"},"properties":{"el-cs-suppress-nulls":"always-suppress","el-cs-strict-deprecation":"false","el-cs-http-hosts":"https://elasticsearch-1:9200,https://elasticsearch-2:9200","el-cs-path-prefix":null,"el-cs-run-as-user":null,"proxy-configuration-service":null,"el-cs-charset":"UTF-8","api-key-id":null,"el-cs-send-meta-header":"true","el-cs-username":"admin","el-cs-enable-compression":"false","el-cs-sniff-cluster-nodes":"false","el-cs-sniffer-interval":"5 mins","el-cs-sniffer-failure-delay":"1 min","el-cs-node-selector":"ANY","authorization-scheme":"BASIC","el-cs-sniff-failure":"false","el-cs-sniffer-request-timeout":"1 sec","el-cs-connect-timeout":"5000","el-cs-socket-timeout":"60000","el-cs-ssl-context-service":"1d435682-6896-31ac-9c97-82b4a4462858","el-cs-oauth2-token-provider":null},"propertyDescriptors":{"el-cs-suppress-nulls":{"name":"el-cs-suppress-nulls","displayName":"Suppress Null/Empty Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-strict-deprecation":{"name":"el-cs-strict-deprecation","displayName":"Strict Deprecation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-http-hosts":{"name":"el-cs-http-hosts","displayName":"HTTP Hosts","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-run-as-user":{"name":"el-cs-run-as-user","displayName":"Run As User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-charset":{"name":"el-cs-charset","displayName":"Charset","identifiesControllerService":false,"sensitive":false,"dynamic":false},"jwt-shared-secret":{"name":"jwt-shared-secret","displayName":"JWT Shared Secret","identifiesControllerService":false,"sensitive":true,"dynamic":false},"el-cs-send-meta-header":{"name":"el-cs-send-meta-header","displayName":"Send Meta Header","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-username":{"name":"el-cs-username","displayName":"Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-enable-compression":{"name":"el-cs-enable-compression","displayName":"Enable Compression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniff-cluster-nodes":{"name":"el-cs-sniff-cluster-nodes","displayName":"Sniff Cluster Nodes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"api-key":{"name":"api-key","displayName":"API Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"el-cs-node-selector":{"name":"el-cs-node-selector","displayName":"Node Selector","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniff-failure":{"name":"el-cs-sniff-failure","displayName":"Sniff on Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-request-timeout":{"name":"el-cs-sniffer-request-timeout","displayName":"Sniffer Request Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-ssl-context-service":{"name":"el-cs-ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-oauth2-token-provider":{"name":"el-cs-oauth2-token-provider","displayName":"OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"el-cs-path-prefix":{"name":"el-cs-path-prefix","displayName":"Path Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"api-key-id":{"name":"api-key-id","displayName":"API Key ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-interval":{"name":"el-cs-sniffer-interval","displayName":"Sniffer Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-sniffer-failure-delay":{"name":"el-cs-sniffer-failure-delay","displayName":"Sniffer Failure Delay","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-password":{"name":"el-cs-password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"authorization-scheme":{"name":"authorization-scheme","displayName":"Authorization Scheme","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-connect-timeout":{"name":"el-cs-connect-timeout","displayName":"Connect timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"el-cs-socket-timeout":{"name":"el-cs-socket-timeout","displayName":"Read timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.elasticsearch.ElasticSearchClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-elasticsearch-client-service-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"ac53b3e2-0197-1000-91ff-d0c8b0a917bf"},{"identifier":"4ad0bf71-a5de-39f7-9f74-07213d115a9f","instanceIdentifier":"6bb88ba4-0198-1000-5f21-024bb5659e27","name":"AvroRecordSetWriter","comments":"","type":"org.apache.nifi.avro.AvroRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.4.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-cache":null,"compression-format":"NONE","Schema Write Strategy":"avro-embedded","schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"inherit-record-schema","schema-version":null,"encoder-pool-size":"32","schema-text":"${avro.schema}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"encoder-pool-size":{"name":"encoder-pool-size","displayName":"Encoder Pool Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.4.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"ac53b3e2-0197-1000-91ff-d0c8b0a917bf"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}