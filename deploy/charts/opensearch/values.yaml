nameOverride: ""
fullnameOverride: ""

envFile:
  # Pass deploy/elasticsearch.env via:
  #   --set-file envFile.raw=./deploy/elasticsearch.env
  raw: ""
  # Only these keys are imported into a ConfigMap (avoid leaking secrets from env files).
  includeKeys:
    - ELASTICSEARCH_NETWORK_HOST
    - ELASTICSEARCH_NETWORK_PUBLISH_HOST
    - ELASTICSEARCH_CLUSTER_NAME
    - ELASTICSEARCH_SEED_HOSTS
    - ELASTICSEARCH_INITIAL_CLUSTER_MANAGER_NODES
    - ELASTICSEARCH_HOSTS
    - ELASTICSEARCH_JAVA_OPTS
    - OPENSEARCH_JAVA_OPTS
    - KIBANA_SERVER_NAME

opensearch:
  replicas: 3
  image:
    repository: opensearchproject/opensearch
    tag: "3.5.0"
    pullPolicy: IfNotPresent
  clusterName: elasticsearch-cogstack-cluster
  javaOpts: "-Xms512m -Xmx512m -Des.failure_store_feature_flag_enabled=true"
  resources:
    requests:
      cpu: "500m"
      memory: "1Gi"
    limits:
      cpu: "1"
      memory: "1Gi"
  persistence:
    enabled: true
    accessModes:
      - ReadWriteOnce
    size: 20Gi
    storageClassName: ""
  service:
    type: ClusterIP
    httpPort: 9200
    transportPort: 9300
    analyzerPort: 9600
    annotations: {}
  podAnnotations: {}
  podLabels: {}
  podSecurityContext:
    fsGroup: 1000
  securityContext:
    runAsUser: 1000
    runAsGroup: 1000
  nodeSelector: {}
  tolerations: []
  affinity: {}
  extraEnv: []

dashboards:
  enabled: true
  replicas: 1
  image:
    repository: opensearchproject/opensearch-dashboards
    tag: "3.5.0"
    pullPolicy: IfNotPresent
  serverName: cogstack-kibana
  service:
    type: ClusterIP
    port: 5601
    annotations: {}
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "1"
      memory: "1Gi"
  podAnnotations: {}
  podLabels: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}
  extraEnv: []

credentials:
  create: true
  existingSecret: ""
  adminPassword: "Kibanaserver!1"
  kibanaUser: kibanaserver
  kibanaPassword: kibanaserver

certificates:
  opensearchSecretName: opensearch-certs
  dashboardsSecretName: opensearch-certs
  opensearchFiles:
    rootCA: root-ca.crt
    nodeCert: esnode.crt
    nodeKey: esnode.key
    adminCert: admin.crt
    adminKey: admin.key.pem
  dashboardsFiles:
    rootCA: elastic-stack-ca.crt.pem
    adminCert: admin.crt
    adminKey: admin.key.pem
    serverCert: es_kibana_client.pem
    serverKey: es_kibana_client.key
